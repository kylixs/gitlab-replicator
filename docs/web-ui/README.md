# GitLab Mirror Web UI 开发任务

本目录包含 Web UI 各模块的详细开发任务清单。

## 📋 相关文档

- [Web UI 需求清单](../web-ui-requirements.md) - 完整的功能需求和 API 规范

## 🎯 模块列表

### 模块 1: Dashboard (仪表盘)
**文档**: [01-dashboard.md](./01-dashboard.md)
**状态**: ⏸️ 待处理
**预计时间**: 2-3天
**功能**: 系统整体运行状况概览，包括统计数据、状态分布、延时监控和活动时间线。

**子任务** (7个):
- T1.1 后端 API - Dashboard 统计数据
- T1.2 前端页面 - Dashboard 布局
- T1.3 前端功能 - 统计卡片
- T1.4 前端功能 - 状态分布图
- T1.5 前端功能 - 延时 Top10
- T1.6 前端功能 - 活动时间线
- T1.7 前端功能 - 扫描操作

---

### 模块 2: Projects List (项目列表)
**文档**: [02-projects-list.md](./02-projects-list.md)
**状态**: ⏸️ 待处理
**预计时间**: 3-4天
**功能**: 项目列表管理，支持筛选、搜索、排序、批量操作和差异显示。

**子任务** (9个):
- T2.1 后端 API - 项目列表扩展
- T2.2 后端 API - 批量操作
- T2.3 前端页面 - 项目列表布局
- T2.4 前端功能 - 表格展示
- T2.5 前端功能 - 筛选和搜索
- T2.6 前端功能 - 排序
- T2.7 前端功能 - 批量操作
- T2.8 前端功能 - 单个项目操作
- T2.9 前端功能 - 导出列表

---

### 模块 3: Project Detail (项目详情)
**文档**: [03-project-detail.md](./03-project-detail.md)
**状态**: ⏸️ 待处理
**预计时间**: 4-5天
**功能**: 项目详情页面，包含概览、分支对比、同步事件三个Tab。

**子任务** (7个):
- T3.1 后端 API - 项目概览
- T3.2 前端页面 - 详情页布局
- T3.3 前端功能 - 概览Tab
- T3.4 前端功能 - 分支对比Tab
- T3.5 前端功能 - 同步事件Tab
- T3.6 前端功能 - 顶部操作栏
- T3.7 前端优化 - 数据刷新

---

### 模块 4: Sync Events (同步事件)
**文档**: [04-sync-events.md](./04-sync-events.md)
**状态**: ⏸️ 待处理
**预计时间**: 2-3天
**功能**: 同步事件历史页面，支持筛选、搜索和导出。

**子任务** (10个):
- T4.1 后端 API - 事件统计
- T4.2 后端 API - 事件列表扩展
- T4.3 后端 API - 事件详情
- T4.4 后端 API - 导出功能
- T4.5 前端页面 - 事件页面布局
- T4.6 前端功能 - 统计卡片
- T4.7 前端功能 - 事件表格
- T4.8 前端功能 - 事件详情
- T4.9 前端功能 - 筛选和搜索
- T4.10 前端功能 - 导出

---

### 模块 5: Configuration (全局配置)
**文档**: [05-configuration.md](./05-configuration.md)
**状态**: ⏸️ 待处理
**预计时间**: 2-3天
**功能**: 全局配置管理，包括 GitLab 实例、调度器、同步设置和阈值。

**子任务** (7个):
- T5.1 后端 API - 配置管理
- T5.2 前端页面 - 配置页面布局
- T5.3 前端功能 - GitLab 实例配置
- T5.4 前端功能 - 调度器配置
- T5.5 前端功能 - 同步设置和规则
- T5.6 前端功能 - 阈值配置
- T5.7 前端功能 - 配置保存

---

## 📊 总体统计

- **总模块数**: 5个
- **总子任务数**: 40个
- **预计总时间**: 15-20天

## 🚀 实施建议

### Phase 1: 核心功能 (优先级高)
**时间**: 7-10天

1. **模块 1: Dashboard** (2-3天)
   - 先实现后端 API
   - 再实现前端页面和组件
   - 测试集成

2. **模块 2: Projects List** (3-4天)
   - 实现列表展示和筛选
   - 实现批量操作
   - 测试完整流程

3. **模块 3: Project Detail - 概览/分支Tab** (2-3天)
   - 实现详情页基础框架
   - 实现概览和分支对比Tab
   - 暂不实现事件Tab

### Phase 2: 事件管理 (优先级中)
**时间**: 4-6天

4. **模块 4: Sync Events** (2-3天)
   - 实现事件历史页面
   - 实现筛选和导出

5. **模块 3: Project Detail - 事件Tab** (2-3天)
   - 补充项目详情的事件Tab
   - 集成测试

### Phase 3: 配置管理 (优先级中)
**时间**: 2-3天

6. **模块 5: Configuration** (2-3天)
   - 实现全局配置页面
   - 实现连接测试
   - 测试配置保存

### Phase 4: 优化增强 (优先级低)
**时间**: 1-2天

7. **性能优化**
   - 实现缓存策略
   - 优化大数据量渲染
   - 实现虚拟滚动（如需要）

8. **实时更新**
   - 实现 WebSocket 推送（可选）
   - 优化自动刷新机制

---

## 🎨 UI/UX 规范

### 颜色系统
- 成功/已同步: `#52c41a` (绿色)
- 同步中: `#1890ff` (蓝色)
- 警告/待处理: `#faad14` (黄色)
- 暂停: `#8c8c8c` (灰色)
- 失败/错误: `#f5222d` (红色)

### 延时颜色
- < 1小时: 绿色
- 1-24小时: 黄色
- \> 24小时: 红色
- 实时: 蓝色

---

## 📝 开发规范

### 任务状态管理
**【重要】** 每个子任务开始前和完成后必须更新状态：
- 开始前: `⏸️ 待处理` → `🔄 进行中`
- 完成后: `🔄 进行中` → `✅ 已完成` 或 `❌ 失败`

### Git 提交规范
遵循 Conventional Commits:
- `feat(web-ui):` - 新功能
- `fix(web-ui):` - Bug 修复
- `refactor(web-ui):` - 重构
- `test(web-ui):` - 测试
- `docs(web-ui):` - 文档

### 代码规范
- **前端**: ESLint + Prettier
- **后端**: CheckStyle + SpotBugs
- **测试**: 单元测试覆盖率 > 80%

---

## 🧪 测试策略

### 单元测试
- 后端: JUnit 5 + Mockito
- 前端: Vitest + Vue Test Utils

### 集成测试
- API 测试: Postman / Newman
- E2E 测试: Cypress / Playwright (可选)

### 性能测试
- 列表加载: < 1s (1000条数据)
- API 响应: < 500ms
- 图表渲染: < 300ms

---

## 📚 技术栈

### 前端
- **框架**: Vue 3 + TypeScript
- **UI库**: Element Plus / Ant Design Vue
- **状态**: Pinia
- **图表**: ECharts
- **HTTP**: Axios
- **构建**: Vite

### 后端
- **框架**: Spring Boot 3
- **ORM**: MyBatis Plus
- **数据库**: MySQL 8.0
- **缓存**: Caffeine / Redis (可选)

---

## ⚠️ 注意事项

1. **数据库扩展**: 确保按照需求文档添加必要的字段
2. **API兼容**: 新 API 要保持向后兼容
3. **权限控制**: 预留权限验证接口（后续实现）
4. **错误处理**: 统一错误响应格式
5. **日志记录**: 关键操作记录日志
6. **性能优化**: 大数据量场景考虑分页和索引

---

## 📞 联系方式

如有问题，请参考：
- [Web UI 需求清单](../web-ui-requirements.md)
- [项目设计文档](../PUSH_MIRROR_MVP_DESIGN.md)
- Issue Tracker: GitHub Issues

---

**文档版本**: v1.0
**创建日期**: 2025-12-23
**最后更新**: 2025-12-23
